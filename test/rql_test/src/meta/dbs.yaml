desc: Tests meta queries for databases
tests:

    # We should always start out with a 'test' database and the special 'rethinkdb'
    # database
    - cd: r.db_list()
      ot: bag(['rethinkdb', 'test'])
    
    ## DB create

    - cd: r.db_create('a')
      ot: ({'dbs_created':1,'config_changes':arrlen(1)})
    - cd: r.db_create('b')
      ot: ({'dbs_created':1,'config_changes':arrlen(1)})

    ## DB list
    
    - cd: r.db_list()
      ot: bag(['rethinkdb', 'a', 'b', 'test'])

    ## DB config

    - cd: r.db('a').config()['name']
      ot: ('a')

    ## DB drop

    - cd: r.db_drop('b')
      ot: ({'dbs_dropped':1,'tables_dropped':0,'config_changes':arrlen(1)})

    - cd: r.db_list()
      ot: bag(['rethinkdb', 'a', 'test'])

    - cd: r.db_drop('a')
      ot: ({'dbs_dropped':1,'tables_dropped':0,'config_changes':arrlen(1)})

    - cd: r.db_list()
      ot: bag(['rethinkdb', 'test'])

    ## DB errors
    - cd: r.db_create('bar')
      ot: ({'dbs_created':1,'config_changes':arrlen(1)})

    - cd: r.db_create('bar')
      ot: err('RqlRuntimeError', 'Database `bar` already exists.', [0])

    - cd: r.db_drop('bar')
      ot: ({'dbs_dropped':1,'config_changes':arrlen(1)})

    - cd: r.db_drop('bar')
      ot: err('RqlRuntimeError', 'Database `bar` does not exist.', [0])

